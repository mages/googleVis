<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="googleVis">
<title>Introduction to googleVis • googleVis</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to googleVis">
<meta property="og:description" content="googleVis">
<meta property="og:image" content="https://mages.github.io/googleVis/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">googleVis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.13</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/googleVis_examples.html">googleVis examples</a>
    <a class="dropdown-item" href="../articles/googleVis_intro.html">Introduction to googleVis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mages/googleVis/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="googleVis_intro_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to googleVis</h1>
                        <h4 data-toc-skip class="author">Markus Gesmann and Diego de Castillo</h4>
            
            <h4 data-toc-skip class="date">2022-04-23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/mages/googleVis/blob/HEAD/vignettes/googleVis_intro.Rmd" class="external-link"><code>vignettes/googleVis_intro.Rmd</code></a></small>
      <div class="d-none name"><code>googleVis_intro.Rmd</code></div>
    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      The googleVis package provides an interface between R and the Google Charts API. Google Charts offer interactive charts which can be embedded into web pages. The functions of the googleVis package allow the user to visualise data stored in R data frames with Google Charts without uploading the data to Google. The output of a googleVis function is HTML code that contains the data and references to JavaScript functions hosted by Google. googleVis makes use of the internal R HTTP server to display the output locally. A modern browser with an Internet connection.
    </div>
    
<!--
%\VignetteIndexEntry{Introduction to googleVis}
%\VignetteDepends{googleVis}
%\VignetteKeywords{google, visualisation, api}
%\VignettePackage{googleVis}
%\VignetteEngine{knitr::rmarkdown}
\usepackage[utf8]{inputenc}
-->
<script type="text/javascript">
$('.title').css('color', 'darkred')
</script><div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<div class="section level3">
<h3 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h3>
<p>In 2006 Hans Rosling gave an inspiring talk at TED <span class="citation">(Rosling 2006)</span> about social and economic developments in the world over the past 50 years, which challenged the views and perceptions of many listeners. Rosling had used extensive data analysis to reach his conclusions. To visualise his <a href="https://embed.ted.com/talks/lang/en/hans_rosling_the_best_stats_you_ve_ever_seen" class="external-link">talk</a>, he and his team at Gapminder <span class="citation">(Foundation 2010)</span> had developed animated bubble charts, aka motion charts.</p>
<p>Rosling’s <a href="https://embed.ted.com/talks/lang/en/hans_rosling_the_best_stats_you_ve_ever_seen" class="external-link">presentation</a> popularised the idea and use of interactive charts. One year later the software behind Gapminder was bought by Google and integrated as motion charts into their Google Charts API <span class="citation">(Inc. 2012a)</span>, formerly known as Google Visualisation API.</p>
<p>In 2010 Sebastián Pérez Saaibi <span class="citation">(Saaibi 2010)</span> presented at the R/Rmetrics Workshop on Computational Finance and Financial Engineering, the idea to use Google motion charts to visualise R output with the <em><a href="https://CRAN.R-project.org/package=R.rsp" class="external-link">R.rsp</a></em> package <span class="citation">(Bengtsson 2012)</span>.</p>
<p>Inspired by those talks and the desire to use interactive data visualisation tools to foster the dialogue between data analysts and others the authors of this vignette started the development of the <em><a href="https://CRAN.R-project.org/package=googleVis" class="external-link">googleVis</a></em> package <span class="citation">(Gesmann and Castillo 2011)</span> in August 2010.</p>
<div class="section level4">
<h4 id="google-chart-tools">Google Chart Tools<a class="anchor" aria-label="anchor" href="#google-chart-tools"></a>
</h4>
<p>The Google Charts API <span class="citation">(Inc. 2012a)</span> allows users to create interactive charts as part of Google documents, spreadsheets and web pages. In this text, we will focus on the usage of the API as part of web pages.</p>
<p>The Google Public Data Explorer <span class="citation">(Inc. 2012c)</span> provides a good example, demonstrating the use of interactive charts and how they can help to analyse data.</p>
<p>The charting data can either be embedded into the HTML file or read dynamically. The key to the Google Charts is that the data is structured in a DataTable <span class="citation">(Inc. 2012d)</span>, and this is where the googleVis package helps, as it transforms R data frames into JSON <span class="citation">(JSON.org 2006)</span> objects, using the <em><a href="https://CRAN.R-project.org/package=jsonlite" class="external-link">jsonlite</a></em> package <span class="citation">(Ooms 2014)</span>, as the basis for a DataTable.</p>
<p>As an example we shall look at the html-code of a motion chart from Google’s visualisation gallery <span class="citation">(Inc. 2012b)</span>.</p>
<pre><code> 1 &lt;html&gt;
 2  &lt;head&gt;
 3   &lt;script type="text/javascript" 
 4     src="https://www.google.com/jsapi"&gt;
 5   &lt;/script&gt;
 6   &lt;script type="text/javascript"&gt;
 7     google.load('visualization', '1', 
 8      {'packages':['motionchart']});
 9    google.setOnLoadCallback(drawChart);
10    function drawChart() {
11    var data=new google.visualization.DataTable();
12    data.addColumn('string', 'Fruit');
13    data.addColumn('date', 'Date');
14    data.addColumn('number', 'Sales');
15    data.addColumn('number', 'Expenses');
16    data.addColumn('string', 'Location');
17    data.addRows([
18    ['Apples',new Date(1988,0,1),1000,300,'East'],
19    ['Oranges',new Date(1988,0,1),1150,200,'West'],
20    ['Bananas',new Date(1988,0,1),300,250,'West'],
21    ['Apples',new Date(1989,6,1),1200,400,'East'],
22    ['Oranges',new Date(1989,6,1),750,150,'West'],
23    ['Bananas',new Date(1989,6,1),788,617,'West']
24    ]);
25    var chart=new google.visualization.MotionChart(
26      document.getElementById('chart_div'));
27    chart.draw(data, {width: 600, height:300});
28   }
29   &lt;/script&gt;
30  &lt;/head&gt;
31  &lt;body&gt;
32   &lt;div id="chart_div" 
33        style="width:600px; height:300px;"&gt;
34   &lt;/div&gt;
35  &lt;/body&gt;
36 &lt;/html&gt;</code></pre>
<p>The code and data are processed and rendered by the browser and is not submitted to any server<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;&lt;a href="https://developers.google.com/chart/interactive/docs/gallery/linechart#data-policy" class="external-link"&gt;Data Policy&lt;/a&gt;&lt;/p&gt;'><sup>1</sup></a>.</p>
<p>You will notice that the above HTML code has five generic parts:</p>
<ul>
<li>references to Google’s AJAX (l. 4) and Visualisation API (ll. 7 - 8),</li>
<li>data to visualise as a <code>DataTable</code> (ll. 11 - 24),</li>
<li>an instance call to create the chart (ll. 25 - 26),</li>
<li>a method call to draw the chart including options, shown here as width and height (l. 27),</li>
<li>an HTML <code>&lt;div&gt;</code> element to add the chart to the page (ll. 32 – 34).</li>
</ul>
<p>These principles hold true for most of the interactive charts of the Google Chart Tools, see the examples in the next section.</p>
<p>However, before you use the API you should read the <a href="https://developers.google.com/terms/" class="external-link">Google Terms of Service</a> <span class="citation">(Inc 2012)</span>.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="the-googlevis-package">The googleVis package<a class="anchor" aria-label="anchor" href="#the-googlevis-package"></a>
</h2>
<p>The googleVis package provides an interface between R and the Google Chart Tools. The functions of the package allow the user to visualise data stored in R data frames with Google Charts.</p>
<p>The output of a googleVis function is HTML code that contains the data and references to JavaScript functions hosted by Google. A browser with an Internet connection is required to view the output, and for a very few chart types, notably motion charts, also Flash. Examples of several chart types are shown below, which have been combined with the <code>gvisMerge</code> function.</p>
<!-- LineChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:32 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID3b54ced007 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"A",
1,
23
],
[
"B",
3,
12
],
[
"C",
4,
32
] 
];
data.addColumn('string','country');
data.addColumn('number','val1');
data.addColumn('number','val2');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDataAnnotationChartID3b542d972f68 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
new Date(2008,0,1),
3000,
null,
null,
40645,
null,
null
],
[
new Date(2008,0,2),
14045,
null,
null,
20374,
null,
null
],
[
new Date(2008,0,3),
5502,
null,
null,
50766,
null,
null
],
[
new Date(2008,0,4),
75284,
null,
null,
14334,
"Out of stock",
"Ran out of stock of pens at 4pm"
],
[
new Date(2008,0,5),
41476,
"Bought pencils",
"Bought 200k pencils",
66467,
null,
null
],
[
new Date(2008,0,6),
333222,
null,
null,
39463,
null,
null
] 
];
data.addColumn('date','Date');
data.addColumn('number','Pencils');
data.addColumn('string','Title.Pencils');
data.addColumn('string','Annotation.Pencils');
data.addColumn('number','Pens');
data.addColumn('string','Title.Pens');
data.addColumn('string','Annotation.Pens');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDataGaugeID3b541285ca89 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"New York",
200
],
[
"Boston",
300
],
[
"Miami",
400
],
[
"Chicago",
500
],
[
"Los Angeles",
600
],
[
"Houston",
700
] 
];
data.addColumn('string','City');
data.addColumn('number','Popularity');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDataGeoChartID3b545e966e3d () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Germany",
3
],
[
"Brazil",
4
],
[
"United States",
5
],
[
"France",
4
],
[
"Hungary",
3
],
[
"India",
2
],
[
"Iceland",
1
],
[
"Norway",
4
],
[
"Spain",
5
],
[
"Turkey",
1
] 
];
data.addColumn('string','Country');
data.addColumn('number','Profit');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDataTimelineID3b5410b07e5c () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Room 1",
"English",
new Date(2014,2,14,14,0,0),
new Date(2014,2,14,15,0,0)
],
[
"Room 2",
"German",
new Date(2014,2,14,15,0,0),
new Date(2014,2,14,16,0,0)
],
[
"Room 3",
"French",
new Date(2014,2,14,14,30,0),
new Date(2014,2,14,15,30,0)
] 
];
data.addColumn('string','Room');
data.addColumn('string','Language');
data.addColumn('datetime','start');
data.addColumn('datetime','end');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDataTreeMapID3b544a6c14ad () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Global",
null,
10,
2
],
[
"America",
"Global",
2,
4
],
[
"Europe",
"Global",
99,
11
],
[
"Asia",
"Global",
10,
8
],
[
"France",
"Europe",
71,
2
],
[
"Sweden",
"Europe",
89,
3
],
[
"Germany",
"Europe",
58,
10
],
[
"Mexico",
"America",
2,
9
],
[
"USA",
"America",
38,
11
],
[
"China",
"Asia",
5,
1
],
[
"Japan",
"Asia",
48,
11
] 
];
data.addColumn('string','Region');
data.addColumn('string','Parent');
data.addColumn('number','Val');
data.addColumn('number','Fac');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID3b54ced007() {
var data = gvisDataLineChartID3b54ced007();
var options = {};
options["allowHtml"] = true;
options["width"] = 300;
options["height"] = 300;
options["legend"] = "top";
options["title"] = "Hello World";
options["titleTextStyle"] = {color:'red',fontName:'Courier',
            fontSize:16};
options["curveType"] = "function";

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID3b54ced007')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartAnnotationChartID3b542d972f68() {
var data = gvisDataAnnotationChartID3b542d972f68();
var options = {};
options["width"] = 300;
options["height"] = 300;
options["displayAnnotations"] = true;
options["legendPosition"] = "newRow";

    var chart = new google.visualization.AnnotationChart(
    document.getElementById('AnnotationChartID3b542d972f68')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartGaugeID3b541285ca89() {
var data = gvisDataGaugeID3b541285ca89();
var options = {};
options["allowHtml"] = true;
options["min"] = 0;
options["max"] = 800;
options["greenFrom"] = 500;
options["greenTo"] = 800;
options["yellowFrom"] = 300;
options["yellowTo"] = 500;
options["redFrom"] = 0;
options["redTo"] = 300;
options["width"] = 300;
options["height"] = 200;

    var chart = new google.visualization.Gauge(
    document.getElementById('GaugeID3b541285ca89')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartGeoChartID3b545e966e3d() {
var data = gvisDataGeoChartID3b545e966e3d();
var options = {};
options["width"] = 300;
options["height"] = 200;
options["projection"] = "kavrayskiy-vii";

    var chart = new google.visualization.GeoChart(
    document.getElementById('GeoChartID3b545e966e3d')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartTimelineID3b5410b07e5c() {
var data = gvisDataTimelineID3b5410b07e5c();
var options = {};
options["width"] = 300;
options["height"] = 200;

    var chart = new google.visualization.Timeline(
    document.getElementById('TimelineID3b5410b07e5c')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartTreeMapID3b544a6c14ad() {
var data = gvisDataTreeMapID3b544a6c14ad();
var options = {};
options["width"] = 300;
options["height"] = 200;
options["fontSize"] = 16;
options["minColor"] = "#EDF8FB";
options["midColor"] = "#66C2A4";
options["maxColor"] = "#006D2C";
options["headerHeight"] = 20;
options["fontColor"] = "black";
options["showScale"] = true;

    var chart = new google.visualization.TreeMap(
    document.getElementById('TreeMapID3b544a6c14ad')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID3b54ced007);
})();
function displayChartLineChartID3b54ced007() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "annotationchart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartAnnotationChartID3b542d972f68);
})();
function displayChartAnnotationChartID3b542d972f68() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "gauge";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartGaugeID3b541285ca89);
})();
function displayChartGaugeID3b541285ca89() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "geochart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartGeoChartID3b545e966e3d);
})();
function displayChartGeoChartID3b545e966e3d() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "timeline";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartTimelineID3b5410b07e5c);
})();
function displayChartTimelineID3b5410b07e5c() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "treemap";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartTreeMapID3b544a6c14ad);
})();
function displayChartTreeMapID3b544a6c14ad() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID3b54ced007"></script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartAnnotationChartID3b542d972f68"></script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartGaugeID3b541285ca89"></script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartGeoChartID3b545e966e3d"></script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartTimelineID3b5410b07e5c"></script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartTreeMapID3b544a6c14ad"></script><table border="0" class="table">
<tr>
<td>
<table border="0" class="table">
<tr>
<td>
<table cellspacing="10" class="table"><tr>
<td>
<!-- divChart -->
<div id="LineChartID3b54ced007" style="width: 300; height: 300;">

</div>
</td>
<td>
<!-- divChart -->
<div id="AnnotationChartID3b542d972f68" style="width: 300; height: 300;">

</div>
</td>
</tr></table>
</td>
</tr>
<tr>
<td>
<table cellspacing="10" class="table"><tr>
<td>
<!-- divChart -->
<div id="GaugeID3b541285ca89" style="width: 300; height: 200;">

</div>
</td>
<td>
<!-- divChart -->
<div id="GeoChartID3b545e966e3d" style="width: 300; height: 200;">

</div>
</td>
</tr></table>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td>
<table cellspacing="10" class="table"><tr>
<td>
<!-- divChart -->
<div id="TimelineID3b5410b07e5c" style="width: 300; height: 200;">

</div>
</td>
<td>
<!-- divChart -->
<div id="TreeMapID3b544a6c14ad" style="width: 300; height: 200;">

</div>
</td>
</tr></table>
</td>
</tr>
</table>
<div class="section level3">
<h3 id="sec:Installation">Installation<a class="anchor" aria-label="anchor" href="#sec:Installation"></a>
</h3>
<p>You can install googleVis in the usual way from CRAN, e.g.:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'googleVis'</span><span class="op">)</span> </code></pre></div>
<p>The installation was successful if the command <code><a href="https://mages.github.io/googleVis/">library(googleVis)</a></code> gives you the following message:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mages.github.io/googleVis/">googleVis</a></span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">## Welcome to googleVis version 0.6.13</span>
<span class="co">## </span>
<span class="co">## Please read Google's Terms of Use</span>
<span class="co">## before you start using the package:</span>
<span class="co">## https://developers.google.com/terms/</span>
<span class="co">## </span>
<span class="co">## Note, the plot method of googleVis will by default use</span>
<span class="co">## the standard browser to display its output.</span>
<span class="co">## </span>
<span class="co">## See the googleVis package vignettes for more details,</span>
<span class="co">## or visit https://mages.github.io/googleVis/.</span>
<span class="co">## </span>
<span class="co">## To suppress this message use:</span>
<span class="co">## suppressPackageStartupMessages(library(googleVis))</span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="concepts-of-the-googlevis-package">Concepts of the googleVis package<a class="anchor" aria-label="anchor" href="#concepts-of-the-googlevis-package"></a>
</h2>
<p>The individual functions of the googleVis package are documented in the help pages. Here we will cover only the basic concepts of the package.</p>
<p>As an example, we will show how to generate a geo chart. It works similarly for the other APIs. Further examples are covered in the demos<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;See &lt;code&gt;demo(package="googleVis")&lt;/code&gt; for a list of the available demos&lt;/p&gt;'><sup>2</sup></a> of the googleVis package.</p>
<p>The design of the visualisation functions is fairly generic. The name of the visualisation function is <code>'gvis' + ChartType</code>. So for a geo chart we have:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gchart</span> <span class="op">&lt;-</span>  <span class="fu"><a href="../reference/gvisGeoChart.html">gvisGeoChart</a></span><span class="op">(</span><span class="va">data</span>,
                     locationvar <span class="op">=</span> <span class="st">""</span>,
                     colorvar <span class="op">=</span> <span class="st">""</span>,
                     sizevar <span class="op">=</span> <span class="st">""</span>,
                     hovervar <span class="op">=</span> <span class="st">""</span>,
                     options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,
                     <span class="va">chartid</span><span class="op">)</span>                     </code></pre></div>
<p>Here <code>data</code> is the input <code>data.frame</code>, <code>locationvar</code>, <code>colorvar</code>, <code>sizevar</code> and <code>hovervar</code> specify the various columns used for the plot. Display options are set in an optional list, which we discuss in more detail later. The options and data requirements follow those of the Google Charts API and are documented in the help pages, see</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span><span class="st">'gvisGeoChart'</span><span class="op">)</span></code></pre></div>
<p>The argument <code>chartid</code> allows the user to set a chart ID of the output chart manually. If the argument is missing a random ID using <code>tempfile(pattern='')</code> will be generated. Unique chart IDs are required to place more than one chart on a web page.</p>
<p>The output of a googleVis function is a list of lists (a nested list) containing information about the chart type, chart ID and the HTML code in a sub-list with header, chart, caption and footer.</p>
<p>The idea behind this concept is that users can get a complete web page, while at the same time offer a facility to extract specific parts, such as the chart itself. This is particularly helpful if the package functions are used in solutions where the user wants to feed the visualisation output into other sites.</p>
<p>The output of a googleVis function will be of class <code>gvis</code> and <code>list</code>. Generic print (<code>print.gvis</code>) and plot (<code>plot.gvis</code>) functions exist to ease the handling of such objects.</p>
<p>To illustrate the concept we shall create a Geo chart using the <code>Exports</code> data set.</p>
<div class="section level3">
<h3 id="geo-chart-example">Geo Chart Example<a class="anchor" aria-label="anchor" href="#geo-chart-example"></a>
</h3>
<p>Following the documentation of the Google Geo Chart API we need a data set which has at least one column with the location variable.</p>
<p>As an example we use the <code>Exports</code> data set:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Exports</span><span class="op">)</span>
<span class="va">Exports</span></code></pre></div>
<pre><code><span class="co">##          Country Profit Online</span>
<span class="co">## 1        Germany      3   TRUE</span>
<span class="co">## 2         Brazil      4  FALSE</span>
<span class="co">## 3  United States      5   TRUE</span>
<span class="co">## 4         France      4   TRUE</span>
<span class="co">## 5        Hungary      3  FALSE</span>
<span class="co">## 6          India      2   TRUE</span>
<span class="co">## 7        Iceland      1  FALSE</span>
<span class="co">## 8         Norway      4   TRUE</span>
<span class="co">## 9          Spain      5   TRUE</span>
<span class="co">## 10        Turkey      1  FALSE</span></code></pre>
<p>Here we will use the columns <code>'Country'</code> and <code>'Profit'</code> as location and colour variable respectively.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"> <span class="va">gchart</span> <span class="op">&lt;-</span>  <span class="fu"><a href="../reference/gvisGeoChart.html">gvisGeoChart</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Exports</span>, 
                      locationvar<span class="op">=</span><span class="st">'Country'</span>,
                      colorvar<span class="op">=</span><span class="st">'Profit'</span>,
                      options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>projection<span class="op">=</span><span class="st">"kavrayskiy-vii"</span>, 
                                   width<span class="op">=</span><span class="fl">400</span>, height<span class="op">=</span><span class="fl">200</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>The structural output of <code>gvisGeoChart</code> is a list of lists as described above</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">gchart</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## List of 3</span>
<span class="co">##  $ type   : chr "GeoChart"</span>
<span class="co">##  $ chartid: chr "GeoChartID3b54317ad432"</span>
<span class="co">##  $ html   :List of 4</span>
<span class="co">##   ..$ header : chr "&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 </span>
<span class="co">##   ..$ chart  : Named chr [1:7] "&lt;!-- GeoChart generated in R 4.2.0</span>
<span class="co">##   .. ..- attr(*, "names")= chr [1:7] "jsHeader" "jsData" "jsDrawCh</span>
<span class="co">##   ..$ caption: chr "&lt;div&gt;&lt;span&gt;Data: Exports &amp;#8226; Chart ID: &lt;a </span>
<span class="co">##   ..$ footer : chr "\n&lt;!-- htmlFooter --&gt;\n&lt;span&gt; \n  R version 4.</span>
<span class="co">##  - attr(*, "class")= chr [1:2] "gvis" "list"</span></code></pre>
<p>The first two items of the list contain information about the chart type used and the individual chart ID:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gchart</span><span class="op">$</span><span class="va">type</span></code></pre></div>
<pre><code><span class="co">## [1] "GeoChart"</span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gchart</span><span class="op">$</span><span class="va">chartid</span></code></pre></div>
<pre><code><span class="co">## [1] "GeoChartID3b54317ad432"</span></code></pre>
<p>The html output is a list with header, chart, caption and footer. This allows the user to extract only certain parts of the page, or to create a complete html page.</p>
<p>The header part of the html page has only basic html and formatting tags:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gchart</span>, tag<span class="op">=</span><span class="st">'header'</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</span>
<span class="co">##   "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</span>
<span class="co">## &lt;html xmlns="https://www.w3.org/1999/xhtml"&gt;</span>
<span class="co">## &lt;head&gt;</span>
<span class="co">## &lt;title&gt;GeoChartID3b54317ad432&lt;/title&gt;</span>
<span class="co">## &lt;meta http-equiv="content-type" content="text/html;charset=utf-8" /&gt;</span>
<span class="co">## &lt;style type="text/css"&gt;</span>
<span class="co">## body {</span>
<span class="co">##   color: #444444;</span>
<span class="co">##   font-family: Arial,Helvetica,sans-serif;</span>
<span class="co">##   font-size: 75%;</span>
<span class="co">##   }</span>
<span class="co">##   a {</span>
<span class="co">##   color: #4D87C7;</span>
<span class="co">##   text-decoration: none;</span>
<span class="co">## }</span>
<span class="co">## &lt;/style&gt;</span>
<span class="co">## &lt;/head&gt;</span>
<span class="co">## &lt;body&gt;</span></code></pre>
<p>Here we used the <code>print</code> statement with the tag <code>'header'</code> instead of <code>gchart$html$header</code> to achieve a formatted screen output. This is the same output as <code>cat(gchart$html$chart)</code>.</p>
<p>The actual Google visualisation code is stored with the data as a named character vector in the <code>chart</code> item of the HTML list. The chart is made up of several JavaScript and HTML statements. Please notice that the JavaScript functions are uniquely named with the information of the chart ID. This concept allows the user get all the chart code directly or only specific parts; see the examples in the help page of <code>print.gvis</code> for more details.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">gchart</span><span class="op">$</span><span class="va">html</span><span class="op">$</span><span class="va">chart</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "jsHeader"       "jsData"         "jsDrawChart"    "jsDisplayChart"</span>
<span class="co">## [5] "jsFooter"       "jsChart"        "divChart"</span></code></pre>
<p>The complete chart can be displayed via:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gchart</span>, tag<span class="op">=</span><span class="st">'chart'</span><span class="op">)</span>  <span class="co">## or cat(gchart$html$chart)</span></code></pre></div>
<pre><code><span class="co">## &lt;!-- GeoChart generated in R 4.2.0 by googleVis 0.6.13 package --&gt;</span>
<span class="co">## &lt;!-- Sat Apr 23 13:39:33 2022 --&gt;</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## &lt;!-- jsHeader --&gt;</span>
<span class="co">## &lt;script type="text/javascript"&gt;</span>
<span class="co">##  </span>
<span class="co">## // jsData </span>
<span class="co">## function gvisDataGeoChartID3b54317ad432 () {</span>
<span class="co">## var data = new google.visualization.DataTable();</span>
<span class="co">## var datajson =</span>
<span class="co">## [</span>
<span class="co">##  [</span>
<span class="co">## "Germany",</span>
<span class="co">## 3</span>
<span class="co">## ],</span>
<span class="co">## [</span>
<span class="co">## "Brazil",</span>
<span class="co">## 4</span>
<span class="co">## ],</span>
<span class="co">## [</span>
<span class="co">## "United States",</span>
<span class="co">## 5</span>
<span class="co">## ],</span>
<span class="co">## [</span>
<span class="co">## "France",</span>
<span class="co">## 4</span>
<span class="co">## ],</span>
<span class="co">## [</span>
<span class="co">## "Hungary",</span>
<span class="co">## 3</span>
<span class="co">## ],</span>
<span class="co">## [</span>
<span class="co">## "India",</span>
<span class="co">## 2</span>
<span class="co">## ],</span>
<span class="co">## [</span>
<span class="co">## "Iceland",</span>
<span class="co">## 1</span>
<span class="co">## ],</span>
<span class="co">## [</span>
<span class="co">## "Norway",</span>
<span class="co">## 4</span>
<span class="co">## ],</span>
<span class="co">## [</span>
<span class="co">## "Spain",</span>
<span class="co">## 5</span>
<span class="co">## ],</span>
<span class="co">## [</span>
<span class="co">## "Turkey",</span>
<span class="co">## 1</span>
<span class="co">## ] </span>
<span class="co">## ];</span>
<span class="co">## data.addColumn('string','Country');</span>
<span class="co">## data.addColumn('number','Profit');</span>
<span class="co">## data.addRows(datajson);</span>
<span class="co">## return(data);</span>
<span class="co">## }</span>
<span class="co">##  </span>
<span class="co">## // jsDrawChart</span>
<span class="co">## function drawChartGeoChartID3b54317ad432() {</span>
<span class="co">## var data = gvisDataGeoChartID3b54317ad432();</span>
<span class="co">## var options = {};</span>
<span class="co">## options["width"] = 400;</span>
<span class="co">## options["height"] = 200;</span>
<span class="co">## options["projection"] = "kavrayskiy-vii";</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">##     var chart = new google.visualization.GeoChart(</span>
<span class="co">##     document.getElementById('GeoChartID3b54317ad432')</span>
<span class="co">##     );</span>
<span class="co">##     chart.draw(data,options);</span>
<span class="co">##     </span>
<span class="co">## </span>
<span class="co">## }</span>
<span class="co">##   </span>
<span class="co">##  </span>
<span class="co">## // jsDisplayChart</span>
<span class="co">## (function() {</span>
<span class="co">## var pkgs = window.__gvisPackages = window.__gvisPackages || [];</span>
<span class="co">## var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];</span>
<span class="co">## var chartid = "geochart";</span>
<span class="co">##   </span>
<span class="co">## // Manually see if chartid is in pkgs (not all browsers support Array.indexOf)</span>
<span class="co">## var i, newPackage = true;</span>
<span class="co">## for (i = 0; newPackage &amp;&amp; i &lt; pkgs.length; i++) {</span>
<span class="co">## if (pkgs[i] === chartid)</span>
<span class="co">## newPackage = false;</span>
<span class="co">## }</span>
<span class="co">## if (newPackage)</span>
<span class="co">##   pkgs.push(chartid);</span>
<span class="co">##   </span>
<span class="co">## // Add the drawChart function to the global list of callbacks</span>
<span class="co">## callbacks.push(drawChartGeoChartID3b54317ad432);</span>
<span class="co">## })();</span>
<span class="co">## function displayChartGeoChartID3b54317ad432() {</span>
<span class="co">##   var pkgs = window.__gvisPackages = window.__gvisPackages || [];</span>
<span class="co">##   var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];</span>
<span class="co">##   window.clearTimeout(window.__gvisLoad);</span>
<span class="co">##   // The timeout is set to 100 because otherwise the container div we are</span>
<span class="co">##   // targeting might not be part of the document yet</span>
<span class="co">##   window.__gvisLoad = setTimeout(function() {</span>
<span class="co">##   var pkgCount = pkgs.length;</span>
<span class="co">##   google.load("visualization", "1", { packages:pkgs, callback: function() {</span>
<span class="co">##   if (pkgCount != pkgs.length) {</span>
<span class="co">##   // Race condition where another setTimeout call snuck in after us; if</span>
<span class="co">##   // that call added a package, we must not shift its callback</span>
<span class="co">##   return;</span>
<span class="co">## }</span>
<span class="co">## while (callbacks.length &gt; 0)</span>
<span class="co">## callbacks.shift()();</span>
<span class="co">## } });</span>
<span class="co">## }, 100);</span>
<span class="co">## }</span>
<span class="co">##  </span>
<span class="co">## // jsFooter</span>
<span class="co">## &lt;/script&gt;</span>
<span class="co">##  </span>
<span class="co">## &lt;!-- jsChart --&gt;  </span>
<span class="co">## &lt;script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartGeoChartID3b54317ad432"&gt;&lt;/script&gt;</span>
<span class="co">##  </span>
<span class="co">## &lt;!-- divChart --&gt;</span>
<span class="co">##   </span>
<span class="co">## &lt;div id="GeoChartID3b54317ad432" </span>
<span class="co">##   style="width: 400; height: 200;"&gt;</span>
<span class="co">## &lt;/div&gt;</span></code></pre>
<p>Similarly you can also access specific components of the chart, e.g. (output truncated)</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">gchart</span><span class="op">$</span><span class="va">html</span><span class="op">$</span><span class="va">chart</span><span class="op">[</span><span class="st">'jsChart'</span><span class="op">]</span><span class="op">)</span> <span class="co"># or print(gchart, 'jsChart')</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">## &lt;!-- jsChart --&gt;  </span>
<span class="co">## &lt;script type="text/javascript" src="https://www.google.com/jsapi?c</span></code></pre>
<p>A basic chart caption and html footer are the final items of the html list (output truncated):</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gchart</span>, tag<span class="op">=</span><span class="st">'caption'</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## &lt;div&gt;&lt;span&gt;Data: Exports &amp;#8226; Chart ID: &lt;a href="Chart_GeoChart</span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gchart</span>, tag<span class="op">=</span><span class="st">'footer'</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">## &lt;!-- htmlFooter --&gt;</span>
<span class="co">## &lt;span&gt; </span>
<span class="co">##   R version 4.2.0 (2022-04-22) </span>
<span class="co">##   &amp;#8226; &lt;a href="https://developers.google.com/terms/"&gt;Google Te</span>
<span class="co">## &lt;/span&gt;&lt;/div&gt;</span>
<span class="co">## &lt;/body&gt;</span>
<span class="co">## &lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="displaying-gvis-objects-locally">Displaying gvis objects locally<a class="anchor" aria-label="anchor" href="#displaying-gvis-objects-locally"></a>
</h2>
<p>To display the page locally, simply type:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">gchart</span><span class="op">)</span>  <span class="co"># returns invisibly the file name</span></code></pre></div>
<!-- GeoChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:33 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataGeoChartID3b54317ad432 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Germany",
3
],
[
"Brazil",
4
],
[
"United States",
5
],
[
"France",
4
],
[
"Hungary",
3
],
[
"India",
2
],
[
"Iceland",
1
],
[
"Norway",
4
],
[
"Spain",
5
],
[
"Turkey",
1
] 
];
data.addColumn('string','Country');
data.addColumn('number','Profit');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartGeoChartID3b54317ad432() {
var data = gvisDataGeoChartID3b54317ad432();
var options = {};
options["width"] = 400;
options["height"] = 200;
options["projection"] = "kavrayskiy-vii";

    var chart = new google.visualization.GeoChart(
    document.getElementById('GeoChartID3b54317ad432')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "geochart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartGeoChartID3b54317ad432);
})();
function displayChartGeoChartID3b54317ad432() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartGeoChartID3b54317ad432"></script><!-- divChart --><div id="GeoChartID3b54317ad432" style="width: 400; height: 200;">

</div>
<p>The plot method for <code>gvis</code>-objects creates HTML files in a temporary folder using the type and chart ID information of the object and it will display the output using the R built-in web server.</p>
<p>Note that the chart caption provides a link to the chart code via the chart ID for copy and paste.</p>
<p>The R command <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> will show you the path of the per-session temporary directory, in which the files were written. You can write the chart into a local html file via the <code>print</code> command with the file argument, e.g.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gchart</span>, file<span class="op">=</span><span class="st">"myGoogleVisChart.html"</span><span class="op">)</span></code></pre></div>
<p>Alternatively use the function <code>plot.gvis</code> explicitly, e.g. suppose your html file is stored in <code>/Users/JoeBloggs/myGoogleVisChart.html</code>. Using the <code>plot.gvis</code> the file will be copied into a temporary directory and displayed via the R HTTP help server with, in the same way as a gvis-object:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gvisMethods.html">plot.gvis</a></span><span class="op">(</span><span class="st">"/Users/JoeBloggs/myGoogleVisChart.html"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="setting-options">Setting options<a class="anchor" aria-label="anchor" href="#setting-options"></a>
</h2>
<p>Setting the various options of a googleVis objects can be a bit cumbersome at first. The options follow those of the Google Charts API and can be set via a named list using the argument <code>options</code>. In the following example, we create a line chart and set various options:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>country<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"US"</span>, <span class="st">"GB"</span>, <span class="st">"BR"</span><span class="op">)</span>, 
                 val1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>, val2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">23</span>,<span class="fl">12</span>,<span class="fl">32</span><span class="op">)</span><span class="op">)</span>

<span class="va">Line</span> <span class="op">&lt;-</span>  <span class="fu"><a href="../reference/gvisLineChart.html">gvisLineChart</a></span><span class="op">(</span><span class="va">df</span>, xvar<span class="op">=</span><span class="st">"country"</span>, yvar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"val1"</span>,<span class="st">"val2"</span><span class="op">)</span>,
                       options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
                         title<span class="op">=</span><span class="st">"Hello World"</span>,
                         titleTextStyle<span class="op">=</span><span class="st">"{color:'red', 
                                           fontName:'Courier', 
                                           fontSize:16}"</span>,                         
                         backgroundColor<span class="op">=</span><span class="st">"#D3D3D3"</span>,                          
                         vAxis<span class="op">=</span><span class="st">"{gridlines:{color:'red', count:3}}"</span>,
                         hAxis<span class="op">=</span><span class="st">"{title:'Country', titleTextStyle:{color:'blue'}}"</span>,
                         series<span class="op">=</span><span class="st">"[{color:'green', targetAxisIndex: 0},  
                                   {color: 'orange',targetAxisIndex:1}]"</span>,
                         vAxes<span class="op">=</span><span class="st">"[{title:'val1'}, {title:'val2'}]"</span>,
                         legend<span class="op">=</span><span class="st">"bottom"</span>,
                         curveType<span class="op">=</span><span class="st">"function"</span>,
                         width<span class="op">=</span><span class="fl">500</span>,
                         height<span class="op">=</span><span class="fl">300</span>                         
                       <span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">Line</span><span class="op">)</span></code></pre></div>
<!-- LineChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:34 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID3b54703bfa2b () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"US",
1,
23
],
[
"GB",
3,
12
],
[
"BR",
4,
32
] 
];
data.addColumn('string','country');
data.addColumn('number','val1');
data.addColumn('number','val2');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID3b54703bfa2b() {
var data = gvisDataLineChartID3b54703bfa2b();
var options = {};
options["allowHtml"] = true;
options["title"] = "Hello World";
options["titleTextStyle"] = {color:'red', 
                                           fontName:'Courier', 
                                           fontSize:16};
options["backgroundColor"] = "#D3D3D3";
options["vAxis"] = {gridlines:{color:'red', count:3}};
options["hAxis"] = {title:'Country', titleTextStyle:{color:'blue'}};
options["series"] = [{color:'green', targetAxisIndex: 0},   
                                   {color: 'orange',targetAxisIndex:1}];
options["vAxes"] = [{title:'val1'}, {title:'val2'}];
options["legend"] = "bottom";
options["curveType"] = "function";
options["width"] = 500;
options["height"] = 300;

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID3b54703bfa2b')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID3b54703bfa2b);
})();
function displayChartLineChartID3b54703bfa2b() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID3b54703bfa2b"></script><!-- divChart --><div id="LineChartID3b54703bfa2b" style="width: 500; height: 300;">

</div>
<p>As you can see from the example above, the simpler options can be set by <code>name=value</code>, e.g. <code>width=500</code>, while the more complex options with sub-components are listed in curly brackets <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code> and arrays <code>[]</code>, e.g. to define the two axes.</p>
<p>Generally, the following rules apply:</p>
<ul>
<li>parameters with names that do not include a “.” are set with a single value, e.g. width and height. Those are set like one would do in R, that is <code>options=list(width=200, height=300)</code>. Boolean arguments are set to either <code>TRUE</code> or <code>FALSE</code>, using the R syntax.</li>
<li>parameters with names that do not include a “.” and are set with multiple values, e.g. <code>color</code>, and are wrapped in <code>[ ]</code>, e.g.  <code>options=list(colors="['#cbb69d', '#603913', '#c69c6e']")</code>
</li>
<li>parameters with names that do include a “.” present parameters with several sub-options and have to be set as a string wrapped in “{ }”. The values of those sub-options are set via <code>parameter:value</code>. Boolean values have to be stated as <code>'true'</code> or <code>'false'</code>. For example the Google documentation states the formatting options for the vertical axis as <code>vAxis.format</code>. Then this parameter can be set in R as: <code>options=list(vAxis="{format:'#,###%'}")</code>.</li>
<li>If several sub-options have to be set, e.g.  <code>titleTextStyle.color</code>, <code>titleTextStyle.fontName</code> and <code>titleTextStyle.fontSize</code>, then those can be combined in one list item such as: <code>options=list(titleTextStyle="{color:'red',fontName:'Courier', fontSize:16}")</code>
</li>
<li>parameters that can have more than one value per sub-options are wrapped in <code>[ ]</code>. For example to set the labels for left and right axes use: <code>options=list(vAxes="[{title:'val1'}, {title:'val2'}]")</code>
</li>
</ul>
<div class="section level3">
<h3 id="chart-editor">Chart Editor<a class="anchor" aria-label="anchor" href="#chart-editor"></a>
</h3>
<p>A special option for all charts is <code>gvis.editor</code>, which adds an edit button to the page, allowing the user to edit, change and customise the chart on the fly. The content of the option <code>gvis.editor</code> describes the label of the browser button.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Editor</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gvisLineChart.html">gvisLineChart</a></span><span class="op">(</span><span class="va">df</span>, options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>gvis.editor<span class="op">=</span><span class="st">'Edit me!'</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">Editor</span><span class="op">)</span></code></pre></div>
<!-- LineChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:34 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID3b54a4cd94d () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"US",
1,
23
],
[
"GB",
3,
12
],
[
"BR",
4,
32
] 
];
data.addColumn('string','country');
data.addColumn('number','val1');
data.addColumn('number','val2');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID3b54a4cd94d() {
var data = gvisDataLineChartID3b54a4cd94d();
var options = {};
options["allowHtml"] = true;

    chartLineChartID3b54a4cd94d = new google.visualization.ChartWrapper({
    dataTable: data,       
    chartType: 'LineChart',
    containerId: 'LineChartID3b54a4cd94d',
    options: options
    });
    chartLineChartID3b54a4cd94d.draw();
    

}

  function openEditorLineChartID3b54a4cd94d() {
  var editor = new google.visualization.ChartEditor();
  google.visualization.events.addListener(editor, 'ok',
  function() { 
  chartLineChartID3b54a4cd94d = editor.getChartWrapper();  
  chartLineChartID3b54a4cd94d.draw(document.getElementById('LineChartID3b54a4cd94d')); 
  }); 
  editor.openDialog(chartLineChartID3b54a4cd94d);
  }
    
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "charteditor";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID3b54a4cd94d);
})();
function displayChartLineChartID3b54a4cd94d() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID3b54a4cd94d"></script><!-- divChart --><input type="button" onclick="openEditorLineChartID3b54a4cd94d()" value="Edit me!"><br><div id="LineChartID3b54a4cd94d" style="width: 500; height: automatic;">

</div>
</div>
</div>
<div class="section level2">
<h2 id="embedding-googlevis-in-web-sites">Embedding googleVis in web sites<a class="anchor" aria-label="anchor" href="#embedding-googlevis-in-web-sites"></a>
</h2>
<p>Suppose you have an existing web page and would like to integrate the output of a googleVis function, such as <code>gvisLineChart</code>. In this case you only need the chart output from <code>gvisLineChart</code>. So you can either copy and paste the output from the R console</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gchart</span>, <span class="st">'chart'</span><span class="op">)</span>  <span class="co">## or cat(gchart$html$chart) </span></code></pre></div>
<p>into your existing html page, or write the content directly into a file</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gchart</span>, <span class="st">'chart'</span>, file<span class="op">=</span><span class="st">'myfilename'</span><span class="op">)</span></code></pre></div>
<p>and process it from there.</p>
</div>
<div class="section level2">
<h2 id="using-googlevis-with-shiny">Using googleVis with shiny<a class="anchor" aria-label="anchor" href="#using-googlevis-with-shiny"></a>
</h2>
<p><a href="https://shiny.rstudio.com/" class="external-link">Shiny</a> is a package by RStudio, which makes it incredibly easy to build interactive web applications with R.</p>
<p>With version 0.4.0 of googleVis support for shiny apps was added. Joe Cheng contributed the <code>renderGvis</code> function which allows users to use googleVis output in shiny in a similar way to other plotting functions.</p>
<p>The following example has been taken from the help file of <code>renderGvis</code>. It displays a scatter chart where the user can select the data set to be displayed.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># server.R</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mages.github.io/googleVis/">googleVis</a></span><span class="op">)</span>

<span class="fu">shinyServer</span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">datasetInput</span> <span class="op">&lt;-</span> <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">dataset</span>,
           <span class="st">"rock"</span> <span class="op">=</span> <span class="va">rock</span>,
           <span class="st">"pressure"</span> <span class="op">=</span> <span class="va">pressure</span>,
           <span class="st">"cars"</span> <span class="op">=</span> <span class="va">cars</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span>
  
  <span class="va">output</span><span class="op">$</span><span class="va">view</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/renderGvis.html">renderGvis</a></span><span class="op">(</span><span class="op">{</span>
    <span class="fu"><a href="../reference/gvisScatterChart.html">gvisScatterChart</a></span><span class="op">(</span><span class="fu">datasetInput</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span>
<span class="op">}</span><span class="op">)</span>

<span class="co"># ui.R</span>
<span class="fu">shinyUI</span><span class="op">(</span><span class="fu">pageWithSidebar</span><span class="op">(</span>
  <span class="fu">headerPanel</span><span class="op">(</span><span class="st">"googleVis on Shiny"</span><span class="op">)</span>,
  <span class="fu">sidebarPanel</span><span class="op">(</span>
    <span class="fu">selectInput</span><span class="op">(</span><span class="st">"dataset"</span>, <span class="st">"Choose a dataset:"</span>, 
                choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rock"</span>, <span class="st">"pressure"</span>, <span class="st">"cars"</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span>,
  <span class="fu">mainPanel</span><span class="op">(</span>
    <span class="fu">htmlOutput</span><span class="op">(</span><span class="st">"view"</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<p>You can run the example locally with the following statement.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html" class="external-link">runApp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"shiny/"</span>, package<span class="op">=</span><span class="st">"googleVis"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="setting-default-behaviour-of-print-gvis-and-plot-gvis">Setting default behaviour of <code>print.gvis</code> and <code>plot.gvis</code><a class="anchor" aria-label="anchor" href="#setting-default-behaviour-of-print-gvis-and-plot-gvis"></a>
</h2>
<p>In googleVis version 0.3.2 the function <code>plot.gvis</code> gained the same argument as <code>print.gvis</code>: <code>tag</code>. By default the <code>tag</code> argument is set to <code>NULL</code> in <code>plot.gvis</code> and the plot function will display its output in a browser window. However, if <code>tag</code> is not <code>NULL</code> the function <code>plot.gvis</code> will behave exactly like <code>print.gvis</code>.</p>
<p>The default <code>tag</code> can be set for both functions globally via the <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> function. On package load googleVis sets <code>options(gvis.print.tag='html')</code> and <code>options(gvis.plot.tag=NULL)</code>.</p>
<p>Suppose you would set <code>options(gvis.plot.tag='chart')</code> then all following plot statements would print the chart part of the gvis-object only, without opening a browser window. This might seem a bit odd at first, yet it becomes helpful when you write R Markdown files for <code>knitr</code> or files for other packages such as <code>R.rsp</code>.</p>
<p>While you draft your file you may want to see the output of googleVis in an interactive way, so you set <code>options(gvis.plot.tag=NULL)</code> at the top of the file and you change the setting to <code>'chart'</code> before you parse the file, say with <code>knitr</code>. This will ensure that all plot statements return the HTML code of the chart, rather than opening browser windows.</p>
</div>
<div class="section level2">
<h2 id="using-googlevis-with-knitr">Using googleVis with knitr<a class="anchor" aria-label="anchor" href="#using-googlevis-with-knitr"></a>
</h2>
<p>Using googleVis with <a href="https://yihui.org/knitr/" class="external-link">knitr</a> <span class="citation">(Xie 2013)</span> is a convenient way of creating interactive reproducible reports. The approach taken by knitr is similar to Sweave, you can combine R code with text and formatting tags. However, knitr can also export to HTML, which is required to embed googleVis charts.</p>
<p>To include googleVis output into a knitr document you have to set the <code>self_contained</code> option to <code>false</code> in the YAML header:</p>
<pre><code>---
title: "My document"
output:
  html_document:
    self_contained: false
---</code></pre>
<p>Furthermore, the chunk option <code>results</code> should be set to <code>'asis'</code>, so that the html output is written into the markdown file.</p>
<p>You can either use the <code>print</code> statement:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="st">```</span><span class="dt">{r results='asis'}</span></span>
<span id="cb38-2"><a href="#cb38-2"></a><span class="dt">gchart &lt;- gvisColumnChart(CityPopularity, 'City', 'Popularity',</span></span>
<span id="cb38-3"><a href="#cb38-3"></a><span class="dt">                        options=list(width=550, height=450,</span></span>
<span id="cb38-4"><a href="#cb38-4"></a><span class="dt">                                     legend='none'))</span></span>
<span id="cb38-5"><a href="#cb38-5"></a><span class="dt">print(gchart, 'chart')</span></span>
<span id="cb38-6"><a href="#cb38-6"></a><span class="st">```</span></span></code></pre></div>
<p>or alternative change the behaviour of the <code>plot</code> function via setting <code>options(gvis.plot.tag = 'chart')</code>. With this setting <code>plot(x)</code> will no longer open a browser window, but produce the same output as <code>print(x, tag='chart')</code>, if <code>x</code> is a gvis-object.</p>
<p>Hence, setting the option <code>gvis.plot.tag</code> in a knitr markdown Rmd-file to <code>'chart'</code> will automatically turn all following plot statements into html output.</p>
<p>Note that you can use the <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> command in your knitr file to switch between an interactive mode, where you are likely to experiment, via copying and pasting R code into the console and running <code>knit</code> on the whole file.</p>
<p>A more comprehensive example is given in the help file to <code><a href="../reference/gvisMethods.html">?plot.gvis</a></code>.</p>
</div>
<div class="section level2">
<h2 id="using-googlevis-in-presentations">Using googleVis in presentations<a class="anchor" aria-label="anchor" href="#using-googlevis-in-presentations"></a>
</h2>
<p>The Google Chart Tools are designed for web pages, so it should be no surprise that it can be difficult or impossible to embed googleVis output in traditional presentation software like MS PowerPoint, Google Docs, OpenOffice Impress or Apple Keynote.</p>
<p>The easiest way is to include screen shots into the slide with links to the live web pages. But this approach requires the presenter to switch between applications during her talk. This can be fun, but quite often it is not.</p>
<p>An alternative would be to build the presentation as a web page itself.</p>
<p>A popular approach here is the <code>slidify</code> package by Ramnath Vaidyanathan, <span class="citation">(Vaidyanathan 2012)</span> that builds on the knitr Markdown approach of the previous section. An example of a <code>slidify</code> presentation is the <a href="https://decastillo.github.io/googleVis_Tutorial/" class="external-link">googleVis tutorial</a> given at the useR! conference in 2013, <span class="citation">Gesmann and Castillo (2013)</span>.</p>
</div>
<div class="section level2">
<h2 id="using-trendlines-with-googlevis">Using Trendlines with googleVis<a class="anchor" aria-label="anchor" href="#using-trendlines-with-googlevis"></a>
</h2>
<p>A trendline is a line superimposed on a chart revealing the overall direction of the data. Google Charts can automatically generate trendlines for Scatter Charts, Bar Charts, Column Charts and Line Charts.</p>
<p>For more details visit: <a href="https://developers.google.com/chart/interactive/docs/gallery/trendlines" class="external-link uri">https://developers.google.com/chart/interactive/docs/gallery/trendlines</a></p>
<div class="section level3">
<h3 id="linear-trend-line">Linear trend line<a class="anchor" aria-label="anchor" href="#linear-trend-line"></a>
</h3>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisScatterChart.html">gvisScatterChart</a></span><span class="op">(</span><span class="va">women</span>, options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>trendlines<span class="op">=</span><span class="st">"0"</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- ScatterChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:34 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataScatterChartID3b543f1dc813 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
58,
115
],
[
59,
117
],
[
60,
120
],
[
61,
123
],
[
62,
126
],
[
63,
129
],
[
64,
132
],
[
65,
135
],
[
66,
139
],
[
67,
142
],
[
68,
146
],
[
69,
150
],
[
70,
154
],
[
71,
159
],
[
72,
164
] 
];
data.addColumn('number','height');
data.addColumn('number','weight');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartScatterChartID3b543f1dc813() {
var data = gvisDataScatterChartID3b543f1dc813();
var options = {};
options["allowHtml"] = true;
options["trendlines"] = "0";

    var chart = new google.visualization.ScatterChart(
    document.getElementById('ScatterChartID3b543f1dc813')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartScatterChartID3b543f1dc813);
})();
function displayChartScatterChartID3b543f1dc813() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartScatterChartID3b543f1dc813"></script><!-- divChart --><div id="ScatterChartID3b543f1dc813" style="width: 500; height: automatic;">

</div>
</div>
<div class="section level3">
<h3 id="exponential-trend-line-with-equation-shown-in-legend">Exponential trend line with equation shown in legend<a class="anchor" aria-label="anchor" href="#exponential-trend-line-with-equation-shown-in-legend"></a>
</h3>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisScatterChart.html">gvisScatterChart</a></span><span class="op">(</span><span class="va">women</span>, options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
    trendlines<span class="op">=</span><span class="st">"{0: { type: 'exponential',  
                     visibleInLegend: 'true', 
                     color: 'green',
                     lineWidth: 10,
                     opacity: 0.5}}"</span>,
    chartArea<span class="op">=</span><span class="st">"{left:50,top:20,width:'50%',height:'75%'}"</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- ScatterChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataScatterChartID3b547ecb0ddf () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
58,
115
],
[
59,
117
],
[
60,
120
],
[
61,
123
],
[
62,
126
],
[
63,
129
],
[
64,
132
],
[
65,
135
],
[
66,
139
],
[
67,
142
],
[
68,
146
],
[
69,
150
],
[
70,
154
],
[
71,
159
],
[
72,
164
] 
];
data.addColumn('number','height');
data.addColumn('number','weight');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartScatterChartID3b547ecb0ddf() {
var data = gvisDataScatterChartID3b547ecb0ddf();
var options = {};
options["allowHtml"] = true;
options["trendlines"] = {0: { type: 'exponential',  
                     visibleInLegend: 'true', 
                     color: 'green',
                     lineWidth: 10,
                     opacity: 0.5}};
options["chartArea"] = {left:50,top:20,width:'50%',height:'75%'};

    var chart = new google.visualization.ScatterChart(
    document.getElementById('ScatterChartID3b547ecb0ddf')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartScatterChartID3b547ecb0ddf);
})();
function displayChartScatterChartID3b547ecb0ddf() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartScatterChartID3b547ecb0ddf"></script><!-- divChart --><div id="ScatterChartID3b547ecb0ddf" style="width: 500; height: automatic;">

</div>
</div>
<div class="section level3">
<h3 id="add-trend-line-to-column-chart">Add trend line to column chart<a class="anchor" aria-label="anchor" href="#add-trend-line-to-column-chart"></a>
</h3>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>val1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">8</span><span class="op">)</span>, 
                  val2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>,<span class="fl">23</span>,<span class="fl">32</span>,<span class="fl">40</span>,<span class="fl">50</span>,<span class="fl">55</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisColumnChart.html">gvisColumnChart</a></span><span class="op">(</span><span class="va">dat</span>,
                  options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>trendlines<span class="op">=</span><span class="st">"{0: {}}"</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- ColumnChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataColumnChartID3b54f217f06 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
1,
12
],
[
3,
23
],
[
4,
32
],
[
5,
40
],
[
6,
50
],
[
8,
55
] 
];
data.addColumn('number','val1');
data.addColumn('number','val2');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartColumnChartID3b54f217f06() {
var data = gvisDataColumnChartID3b54f217f06();
var options = {};
options["allowHtml"] = true;
options["trendlines"] = {0: {}};

    var chart = new google.visualization.ColumnChart(
    document.getElementById('ColumnChartID3b54f217f06')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartColumnChartID3b54f217f06);
})();
function displayChartColumnChartID3b54f217f06() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartColumnChartID3b54f217f06"></script><!-- divChart --><div id="ColumnChartID3b54f217f06" style="width: 500; height: automatic;">

</div>
</div>
<div class="section level3">
<h3 id="changing-labels-in-legend">Changing labels in legend<a class="anchor" aria-label="anchor" href="#changing-labels-in-legend"></a>
</h3>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span><span class="op">$</span><span class="va">val3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">10</span>,<span class="fl">12</span>,<span class="fl">15</span>,<span class="fl">20</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisColumnChart.html">gvisColumnChart</a></span><span class="op">(</span><span class="va">dat</span>,
                  options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>trendlines<span class="op">=</span><span class="st">"{
                          0: {
                            labelInLegend: 'Trendline 1',
                            visibleInLegend: true,}, 
                          1:{
                            labelInLegend: 'Trendline 2',
                            visibleInLegend: true}
                          }"</span>,
                          chartArea<span class="op">=</span><span class="st">"{left:50,top:20,
                                      width:'50%',height:'75%'}"</span>
                  <span class="op">)</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- ColumnChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataColumnChartID3b541d671c2d () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
1,
12,
5
],
[
3,
23,
6
],
[
4,
32,
10
],
[
5,
40,
12
],
[
6,
50,
15
],
[
8,
55,
20
] 
];
data.addColumn('number','val1');
data.addColumn('number','val2');
data.addColumn('number','val3');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartColumnChartID3b541d671c2d() {
var data = gvisDataColumnChartID3b541d671c2d();
var options = {};
options["allowHtml"] = true;
options["trendlines"] = {
                          0: {
                            labelInLegend: 'Trendline 1',
                            visibleInLegend: true,}, 
                          1:{
                            labelInLegend: 'Trendline 2',
                            visibleInLegend: true}
                          };
options["chartArea"] = {left:50,top:20,
                                      width:'50%',height:'75%'};

    var chart = new google.visualization.ColumnChart(
    document.getElementById('ColumnChartID3b541d671c2d')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartColumnChartID3b541d671c2d);
})();
function displayChartColumnChartID3b541d671c2d() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartColumnChartID3b541d671c2d"></script><!-- divChart --><div id="ColumnChartID3b541d671c2d" style="width: 500; height: automatic;">

</div>
</div>
</div>
<div class="section level2">
<h2 id="using-roles-via-googlevis">Using Roles via googleVis<a class="anchor" aria-label="anchor" href="#using-roles-via-googlevis"></a>
</h2>
<p>Roles add the ability to pass columns for further processing downstream. Role columns must follow column they pertain to. Proper naming conventions must be observed. For example, roles fulfilling tooltip roles and must be called “foo.blah.tooltip”. For more details see the <a href="https://developers.google.com/chart/interactive/docs/roles" class="external-link">Google documentation</a>.</p>
<p>The following examples should help to illustrate the concept.</p>
<p>The first example uses a data set that has the additional column <code>pop.html.tooltip</code> with the first 11 letters of the Latin alphabet. This column is mapped automatically as a tooltip when the user hovers over the chart point.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>year<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">11</span>,pop<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">11</span>,
                 pop.html.tooltip<span class="op">=</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">11</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span> 
  <span class="fu"><a href="../reference/gvisScatterChart.html">gvisScatterChart</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- ScatterChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataScatterChartID3b54f94d53b () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
1,
1,
"a"
],
[
2,
2,
"b"
],
[
3,
3,
"c"
],
[
4,
4,
"d"
],
[
5,
5,
"e"
],
[
6,
6,
"f"
],
[
7,
7,
"g"
],
[
8,
8,
"h"
],
[
9,
9,
"i"
],
[
10,
10,
"j"
],
[
11,
11,
"k"
] 
];
data.addColumn('number','year');
data.addColumn('number','pop');
data.addColumn({type: 'string', role: 'tooltip', 'p': {'html': true}});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartScatterChartID3b54f94d53b() {
var data = gvisDataScatterChartID3b54f94d53b();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.ScatterChart(
    document.getElementById('ScatterChartID3b54f94d53b')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartScatterChartID3b54f94d53b);
})();
function displayChartScatterChartID3b54f94d53b() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartScatterChartID3b54f94d53b"></script><!-- divChart --><div id="ScatterChartID3b54f94d53b" style="width: 500; height: automatic;">

</div>
<p>HTML code can be embedded into the tooltip as well, if the option <code>isHtml</code> is set to true.</p>
<p>Often it is helpful to highlight certain parts of the data. The Google API distinguishes between certainty and emphasis. In a similar way to above additional columns with boolean values have to be added to the data.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>year<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">11</span>, x<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">11</span>,
                 x.scope<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="fl">8</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,
                 y<span class="op">=</span><span class="fl">11</span><span class="op">:</span><span class="fl">1</span>, y.html.tooltip<span class="op">=</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">11</span><span class="op">:</span><span class="fl">1</span><span class="op">]</span>,                 
                 y.certainty<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span>,
                 y.emphasis<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisScatterChart.html">gvisScatterChart</a></span><span class="op">(</span><span class="va">df</span>,options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>lineWidth<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- ScatterChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataScatterChartID3b5448dda9a () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
1,
1,
true,
11,
"K",
true,
false
],
[
2,
2,
true,
10,
"J",
true,
false
],
[
3,
3,
true,
9,
"I",
true,
false
],
[
4,
4,
true,
8,
"H",
true,
false
],
[
5,
5,
true,
7,
"G",
true,
true
],
[
6,
6,
true,
6,
"F",
false,
true
],
[
7,
7,
true,
5,
"E",
false,
true
],
[
8,
8,
true,
4,
"D",
false,
true
],
[
9,
9,
false,
3,
"C",
false,
true
],
[
10,
10,
false,
2,
"B",
false,
true
],
[
11,
11,
false,
1,
"A",
false,
true
] 
];
data.addColumn('number','year');
data.addColumn('number','x');
data.addColumn({type: 'boolean', role: 'scope'});
data.addColumn('number','y');
data.addColumn({type: 'string', role: 'tooltip', 'p': {'html': true}});
data.addColumn({type: 'boolean', role: 'certainty'});
data.addColumn({type: 'boolean', role: 'emphasis'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartScatterChartID3b5448dda9a() {
var data = gvisDataScatterChartID3b5448dda9a();
var options = {};
options["allowHtml"] = true;
options["lineWidth"] = 2;

    var chart = new google.visualization.ScatterChart(
    document.getElementById('ScatterChartID3b5448dda9a')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartScatterChartID3b5448dda9a);
})();
function displayChartScatterChartID3b5448dda9a() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartScatterChartID3b5448dda9a"></script><!-- divChart --><div id="ScatterChartID3b5448dda9a" style="width: 500; height: automatic;">

</div>
<p>Using roles with column or bar charts has some specifics. Instead of ‘emphasize’ use ‘style’ to change the colours.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Year<span class="op">=</span><span class="fl">2010</span><span class="op">:</span><span class="fl">2013</span>,
                  Sales<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>, <span class="fl">1500</span>, <span class="fl">800</span>, <span class="fl">1000</span><span class="op">)</span>,
                  Sales.html.tooltip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'$600K in our first year!'</span>,
                                       <span class="st">'Sunspot activity made this our best year ever!'</span>,
                                       <span class="st">'$800K in 2012.'</span>,
                                       <span class="st">'$1M in sales last year.'</span><span class="op">)</span>,
                  Sales.certainty<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisColumnChart.html">gvisColumnChart</a></span><span class="op">(</span><span class="va">dat</span>, xvar<span class="op">=</span><span class="st">'Year'</span>, 
                  yvar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Sales'</span>, <span class="st">'Sales.certainty'</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- ColumnChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataColumnChartID3b547c2924eb () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2010",
600,
true
],
[
"2011",
1500,
false
],
[
"2012",
800,
true
],
[
"2013",
1000,
false
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({type: 'boolean', role: 'certainty'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartColumnChartID3b547c2924eb() {
var data = gvisDataColumnChartID3b547c2924eb();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.ColumnChart(
    document.getElementById('ColumnChartID3b547c2924eb')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartColumnChartID3b547c2924eb);
})();
function displayChartColumnChartID3b547c2924eb() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartColumnChartID3b547c2924eb"></script><!-- divChart --><div id="ColumnChartID3b547c2924eb" style="width: 500; height: automatic;">

</div>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>country<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"US"</span>, <span class="st">"GB"</span>, <span class="st">"BR"</span><span class="op">)</span>, 
                 val1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>, 
                 val1.emphasis<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,
                 val2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">23</span>,<span class="fl">12</span>,<span class="fl">32</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisLineChart.html">gvisLineChart</a></span><span class="op">(</span><span class="va">df</span>, xvar<span class="op">=</span><span class="st">"country"</span>, 
                yvar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"val1"</span>, <span class="st">"val1.emphasis"</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- LineChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID3b547dd4c5c4 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"US",
1,
true
],
[
"GB",
3,
true
],
[
"BR",
4,
false
] 
];
data.addColumn('string','country');
data.addColumn('number','val1');
data.addColumn({type: 'boolean', role: 'emphasis'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID3b547dd4c5c4() {
var data = gvisDataLineChartID3b547dd4c5c4();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID3b547dd4c5c4')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID3b547dd4c5c4);
})();
function displayChartLineChartID3b547dd4c5c4() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID3b547dd4c5c4"></script><!-- divChart --><div id="LineChartID3b547dd4c5c4" style="width: 500; height: automatic;">

</div>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisLineChart.html">gvisLineChart</a></span><span class="op">(</span><span class="va">df</span>, xvar<span class="op">=</span><span class="st">"country"</span>, 
                yvar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"val1"</span>, <span class="st">"val1.emphasis"</span>, <span class="st">"val2"</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- LineChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID3b543a893797 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"US",
1,
true,
23
],
[
"GB",
3,
true,
12
],
[
"BR",
4,
false,
32
] 
];
data.addColumn('string','country');
data.addColumn('number','val1');
data.addColumn({type: 'boolean', role: 'emphasis'});
data.addColumn('number','val2');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID3b543a893797() {
var data = gvisDataLineChartID3b543a893797();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID3b543a893797')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID3b543a893797);
})();
function displayChartLineChartID3b543a893797() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID3b543a893797"></script><!-- divChart --><div id="LineChartID3b543a893797" style="width: 500; height: automatic;">

</div>
<p>Setting the annotations style to ‘line’ allows adding little reference lines to the plot.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Year<span class="op">=</span><span class="fl">2010</span><span class="op">:</span><span class="fl">2013</span>, 
                  Sales<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>, <span class="fl">1500</span>, <span class="fl">800</span>, <span class="fl">1000</span><span class="op">)</span>,
                  Sales.annotation<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'First year'</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">'Last Year'</span><span class="op">)</span>,
                  Sales.annotationText<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'$600K in our first year!'</span>,
                                       <span class="cn">NA</span>,
                                       <span class="cn">NA</span>,
                                       <span class="st">'$1M in sales last year.'</span><span class="op">)</span><span class="op">)</span>      

<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisLineChart.html">gvisLineChart</a></span><span class="op">(</span><span class="va">dat</span>, xvar<span class="op">=</span><span class="st">'Year'</span>, 
                  yvar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Sales'</span>,
                         <span class="st">'Sales.annotation'</span>,
                         <span class="st">'Sales.annotationText'</span><span class="op">)</span>,
                         options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>annotations <span class="op">=</span> <span class="st">"{style:'line'}"</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- LineChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID3b5423a4ab42 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2010",
600,
"First year",
"$600K in our first year!"
],
[
"2011",
1500,
null,
null
],
[
"2012",
800,
null,
null
],
[
"2013",
1000,
"Last Year",
"$1M in sales last year."
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({type: 'string', role: 'annotation'});
data.addColumn({type: 'string', role: 'annotationText'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID3b5423a4ab42() {
var data = gvisDataLineChartID3b5423a4ab42();
var options = {};
options["allowHtml"] = true;
options["annotations"] = {style:'line'};

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID3b5423a4ab42')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID3b5423a4ab42);
})();
function displayChartLineChartID3b5423a4ab42() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID3b5423a4ab42"></script><!-- divChart --><div id="LineChartID3b5423a4ab42" style="width: 500; height: automatic;">

</div>
<p>Intervals help to add error bars, confidence levels, etc. Note that the options are set either via <code>interval</code> or <code>intervals</code>, if set to all intervals. The examples below give an indication of what can be achieved with intervals. For more details visit the Google <a href="https://developers.google.com/chart/interactive/docs/gallery/intervals" class="external-link">documentation</a>.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Year<span class="op">=</span><span class="fl">2013</span><span class="op">:</span><span class="fl">2014</span>, Sales<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">120</span>, <span class="fl">130</span><span class="op">)</span>, 
                 Sales.interval.1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">110</span><span class="op">)</span>, 
                 Sales.interval.2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">140</span>, <span class="fl">150</span><span class="op">)</span>,
                 Sales.interval.3<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">90</span>, <span class="fl">100</span><span class="op">)</span>,
                 Sales.interval.4<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">150</span>, <span class="fl">170</span><span class="op">)</span>,
                 Sales.style<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'red'</span>, <span class="st">'gold'</span><span class="op">)</span>,
                 Sales.annotation<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"North"</span>, <span class="st">"South"</span><span class="op">)</span>,
                 check.names<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisBarChart.html">gvisBarChart</a></span><span class="op">(</span><span class="va">df</span>, xvar<span class="op">=</span><span class="st">'Year'</span>, 
               yvar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Sales'</span>,                       
                      <span class="st">'Sales.interval.1'</span>, 
                      <span class="st">'Sales.interval.2'</span>,
                      <span class="st">'Sales.style'</span>,
                      <span class="st">'Sales.annotation'</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- BarChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataBarChartID3b54673b408a () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2013",
120,
100,
140,
"red",
"North"
],
[
"2014",
130,
110,
150,
"gold",
"South"
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({id:'i1', type: 'number', role: 'interval'});
data.addColumn({id:'i2', type: 'number', role: 'interval'});
data.addColumn({type: 'string', role: 'style'});
data.addColumn({type: 'string', role: 'annotation'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartBarChartID3b54673b408a() {
var data = gvisDataBarChartID3b54673b408a();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.BarChart(
    document.getElementById('BarChartID3b54673b408a')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartBarChartID3b54673b408a);
})();
function displayChartBarChartID3b54673b408a() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartBarChartID3b54673b408a"></script><!-- divChart --><div id="BarChartID3b54673b408a" style="width: 500; height: automatic;">

</div>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisLineChart.html">gvisLineChart</a></span><span class="op">(</span><span class="va">df</span>, xvar<span class="op">=</span><span class="st">'Year'</span>, 
               yvar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Sales'</span>, 
                      <span class="st">'Sales.interval.1'</span>, 
                      <span class="st">'Sales.interval.2'</span><span class="op">)</span>,
               options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>series<span class="op">=</span><span class="st">"[{color:'purple'}]"</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- LineChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID3b5413e0a56d () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2013",
120,
100,
140
],
[
"2014",
130,
110,
150
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({id:'i1', type: 'number', role: 'interval'});
data.addColumn({id:'i2', type: 'number', role: 'interval'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID3b5413e0a56d() {
var data = gvisDataLineChartID3b5413e0a56d();
var options = {};
options["allowHtml"] = true;
options["series"] = [{color:'purple'}];

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID3b5413e0a56d')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID3b5413e0a56d);
})();
function displayChartLineChartID3b5413e0a56d() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID3b5413e0a56d"></script><!-- divChart --><div id="LineChartID3b5413e0a56d" style="width: 500; height: automatic;">

</div>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisLineChart.html">gvisLineChart</a></span><span class="op">(</span><span class="va">df</span>, xvar<span class="op">=</span><span class="st">'Year'</span>, 
                yvar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Sales'</span>, 
                       <span class="st">'Sales.interval.1'</span>, 
                       <span class="st">'Sales.interval.2'</span>, 
                       <span class="st">'Sales.interval.3'</span>, 
                       <span class="st">'Sales.interval.4'</span><span class="op">)</span>,
                options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>series<span class="op">=</span><span class="st">"[{color:'purple'}]"</span>,
                             lineWidth<span class="op">=</span><span class="fl">4</span>,
                             interval<span class="op">=</span><span class="st">"{
            'i1': { 'style':'line', 'color':'#D3362D', 'lineWidth': 0.5 },
            'i2': { 'style':'line', 'color':'#F1CA3A', 'lineWidth': 1 },
            'i3': { 'style':'line', 'color':'#5F9654', 'lineWidth': 2 },
            'i4': { 'style':'line', 'color':'#5F9654', 'lineWidth': 3 }
        }"</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- LineChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID3b543669ba7 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2013",
120,
100,
140,
90,
150
],
[
"2014",
130,
110,
150,
100,
170
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({id:'i1', type: 'number', role: 'interval'});
data.addColumn({id:'i2', type: 'number', role: 'interval'});
data.addColumn({id:'i3', type: 'number', role: 'interval'});
data.addColumn({id:'i4', type: 'number', role: 'interval'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID3b543669ba7() {
var data = gvisDataLineChartID3b543669ba7();
var options = {};
options["allowHtml"] = true;
options["series"] = [{color:'purple'}];
options["lineWidth"] = 4;
options["interval"] = {
            'i1': { 'style':'line', 'color':'#D3362D', 'lineWidth': 0.5 },
            'i2': { 'style':'line', 'color':'#F1CA3A', 'lineWidth': 1 },
            'i3': { 'style':'line', 'color':'#5F9654', 'lineWidth': 2 },
            'i4': { 'style':'line', 'color':'#5F9654', 'lineWidth': 3 }
        };

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID3b543669ba7')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID3b543669ba7);
})();
function displayChartLineChartID3b543669ba7() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID3b543669ba7"></script><!-- divChart --><div id="LineChartID3b543669ba7" style="width: 500; height: automatic;">

</div>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/gvisLineChart.html">gvisLineChart</a></span><span class="op">(</span><span class="va">df</span>, xvar<span class="op">=</span><span class="st">'Year'</span>, 
                yvar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Sales'</span>, 
                       <span class="st">'Sales.interval.1'</span>, 
                       <span class="st">'Sales.interval.2'</span>, 
                       <span class="st">'Sales.interval.3'</span>, 
                       <span class="st">'Sales.interval.4'</span><span class="op">)</span>,
                options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>series<span class="op">=</span><span class="st">"[{color:'purple'}]"</span>,
                             lineWidth<span class="op">=</span><span class="fl">4</span>,
                             intervals<span class="op">=</span><span class="st">"{ 'style':'area' }"</span>,
                             interval<span class="op">=</span><span class="st">"{
                               'i1': { 'color': '#4374E0', 'style':'bars', 'barWidth':0, 'lineWidth':4, 'pointSize':10, 'fillOpacity':1 },
                               'i2': { 'color': '#E49307', 'style':'bars', 'barWidth':0, 'lineWidth':4, 'pointSize':10, 'fillOpacity':1 }}"</span>                                                          
                             <span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- LineChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID3b54718819d7 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2013",
120,
100,
140,
90,
150
],
[
"2014",
130,
110,
150,
100,
170
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({id:'i1', type: 'number', role: 'interval'});
data.addColumn({id:'i2', type: 'number', role: 'interval'});
data.addColumn({id:'i3', type: 'number', role: 'interval'});
data.addColumn({id:'i4', type: 'number', role: 'interval'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID3b54718819d7() {
var data = gvisDataLineChartID3b54718819d7();
var options = {};
options["allowHtml"] = true;
options["series"] = [{color:'purple'}];
options["lineWidth"] = 4;
options["intervals"] = { 'style':'area' };
options["interval"] = {
                               'i1': { 'color': '#4374E0', 'style':'bars', 'barWidth':0, 'lineWidth':4, 'pointSize':10, 'fillOpacity':1 },
                               'i2': { 'color': '#E49307', 'style':'bars', 'barWidth':0, 'lineWidth':4, 'pointSize':10, 'fillOpacity':1 }};

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID3b54718819d7')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID3b54718819d7);
})();
function displayChartLineChartID3b54718819d7() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID3b54718819d7"></script><!-- divChart --><div id="LineChartID3b54718819d7" style="width: 500; height: automatic;">

</div>
<p>The tool tips in geo charts need a little work around, a <code>Tooltip.header</code> variable has to be set to an empty string:</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Exports</span><span class="op">$</span><span class="va">Profit.tooltip</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"&lt;b&gt;Test&lt;/b&gt;"</span>, <span class="va">Exports</span><span class="op">$</span><span class="va">Profit</span><span class="op">)</span>
<span class="va">Exports</span><span class="op">$</span><span class="va">Tooltip.header</span> <span class="op">&lt;-</span> <span class="st">""</span>
<span class="va">GeoTooltip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gvisGeoChart.html">gvisGeoChart</a></span><span class="op">(</span>
  <span class="va">Exports</span>, 
  locationvar <span class="op">=</span> <span class="st">"Country"</span>, 
  colorvar <span class="op">=</span> <span class="st">"Profit"</span>,
  hovervar <span class="op">=</span> <span class="st">"Tooltip.header"</span>,
  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>tooltip <span class="op">=</span> <span class="st">"{isHtml: true}"</span><span class="op">)</span>
<span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">GeoTooltip</span><span class="op">)</span></code></pre></div>
<!-- GeoChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:35 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataGeoChartID3b5476c95e98 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Germany",
"",
3,
"<b>Test</b> 3"
],
[
"Brazil",
"",
4,
"<b>Test</b> 4"
],
[
"United States",
"",
5,
"<b>Test</b> 5"
],
[
"France",
"",
4,
"<b>Test</b> 4"
],
[
"Hungary",
"",
3,
"<b>Test</b> 3"
],
[
"India",
"",
2,
"<b>Test</b> 2"
],
[
"Iceland",
"",
1,
"<b>Test</b> 1"
],
[
"Norway",
"",
4,
"<b>Test</b> 4"
],
[
"Spain",
"",
5,
"<b>Test</b> 5"
],
[
"Turkey",
"",
1,
"<b>Test</b> 1"
] 
];
data.addColumn('string','Country');
data.addColumn('string','Tooltip.header');
data.addColumn('number','Profit');
data.addColumn({type: 'string', role: 'tooltip', 'p': {'html': true}});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartGeoChartID3b5476c95e98() {
var data = gvisDataGeoChartID3b5476c95e98();
var options = {};
options["width"] = 556;
options["height"] = 347;
options["tooltip"] = {isHtml: true};

    var chart = new google.visualization.GeoChart(
    document.getElementById('GeoChartID3b5476c95e98')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "geochart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartGeoChartID3b5476c95e98);
})();
function displayChartGeoChartID3b5476c95e98() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartGeoChartID3b5476c95e98"></script><!-- divChart --><div id="GeoChartID3b5476c95e98" style="width: 556; height: 347;">

</div>
</div>
<div class="section level2">
<h2 id="beyond-r">Beyond R<a class="anchor" aria-label="anchor" href="#beyond-r"></a>
</h2>
<p>In this section we present ideas which go beyond the usual coding in R and are somewhat experimental.</p>
<div class="section level3">
<h3 id="registering-to-catch-events">Registering to catch events<a class="anchor" aria-label="anchor" href="#registering-to-catch-events"></a>
</h3>
<p>Google visualisations can fire and receive <a href="https://developers.google.com/chart/interactive/docs/events" class="external-link">events</a>. It exposes the following two JavaScript methods:</p>
<ul>
<li>
<code>google.visualization.events.trigger()</code> fires an event,</li>
<li>
<code>google.visualization.events.addListener()</code> listens for events.</li>
</ul>
<p>Here is an example of registering to receive the selection event from the Google documentation:</p>
<pre><code>var table = new google.visualization.Table(document.getElementById('table_div'));
table.draw(data, options);
google.visualization.events.addListener(table, 'select', selectHandler);

function selectHandler() {
  alert('A table row was selected');
}</code></pre>
<p>We will only deal with this special case of a ‘select’ event of the ‘addListner’ method. This event is available for most visualisations and acts on user interactions, e.g. user selection clicks.</p>
<p>The ‘addListener’ method expects JavaScript code, which can be embedded into a gvis-object via <code>options</code> as (undocumented) parameter <code>gvis.listener.jscode</code>.</p>
<p>Here are some examples:</p>
<p>Look up the selected item in Wikipedia:</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jscode</span> <span class="op">&lt;-</span> <span class="st">"window.open('https://en.wikipedia.org/wiki/' 
                  + data.getValue(chart.getSelection()[0].row,0)); "</span>

<span class="va">J1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gvisGeoChart.html">gvisGeoChart</a></span><span class="op">(</span><span class="va">Exports</span>, locationvar<span class="op">=</span><span class="st">'Country'</span>, sizevar <span class="op">=</span> <span class="st">'Profit'</span>,
                 options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dataMode<span class="op">=</span><span class="st">"regions"</span>, 
                              gvis.listener.jscode<span class="op">=</span><span class="va">jscode</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">J1</span><span class="op">)</span></code></pre></div>
<!-- GeoChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:36 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataGeoChartID3b5415de9dce () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Germany",
3,
"<b>Test</b> 3"
],
[
"Brazil",
4,
"<b>Test</b> 4"
],
[
"United States",
5,
"<b>Test</b> 5"
],
[
"France",
4,
"<b>Test</b> 4"
],
[
"Hungary",
3,
"<b>Test</b> 3"
],
[
"India",
2,
"<b>Test</b> 2"
],
[
"Iceland",
1,
"<b>Test</b> 1"
],
[
"Norway",
4,
"<b>Test</b> 4"
],
[
"Spain",
5,
"<b>Test</b> 5"
],
[
"Turkey",
1,
"<b>Test</b> 1"
] 
];
data.addColumn('string','Country');
data.addColumn('number','Profit');
data.addColumn({type: 'string', role: 'tooltip', 'p': {'html': true}});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartGeoChartID3b5415de9dce() {
var data = gvisDataGeoChartID3b5415de9dce();
var options = {};
options["width"] = 556;
options["height"] = 347;
options["dataMode"] = "regions";

    var chart = new google.visualization.GeoChart(
    document.getElementById('GeoChartID3b5415de9dce')
    );
    chart.draw(data,options);
    

    google.visualization.events.addListener(chart, 'select',gvisListenerGeoChartID3b5415de9dce);
    function gvisListenerGeoChartID3b5415de9dce() {
    window.open('https://en.wikipedia.org/wiki/' 
                  + data.getValue(chart.getSelection()[0].row,0)); 
    }
    
}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "geochart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartGeoChartID3b5415de9dce);
})();
function displayChartGeoChartID3b5415de9dce() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartGeoChartID3b5415de9dce"></script><!-- divChart --><div id="GeoChartID3b5415de9dce" style="width: 556; height: 347;">

</div>
<p>In the same way we can use the code in other charts, e.g. org- or line charts:</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/gvisOrgChart.html">gvisOrgChart</a></span><span class="op">(</span><span class="va">Regions</span>,  options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>gvis.listener.jscode<span class="op">=</span><span class="va">jscode</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/gvisLineChart.html">gvisLineChart</a></span><span class="op">(</span><span class="va">Regions</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span>, options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>gvis.listener.jscode<span class="op">=</span><span class="va">jscode</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>In the following more advanced example the selected value of a table is displayed in a message box:</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jscode</span> <span class="op">&lt;-</span> <span class="st">"
       var sel = chart.getSelection();
       var row = sel[0].row;
       var text = data.getValue(row,1);
       alert(text);
"</span>
<span class="va">J2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gvisTable.html">gvisTable</a></span><span class="op">(</span><span class="va">Population</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="op">]</span>, 
                options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>gvis.listener.jscode<span class="op">=</span><span class="va">jscode</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">J2</span><span class="op">)</span></code></pre></div>
<!-- Table generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:36 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataTableID3b54178095 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"1",
"China",
1339940000,
0.195,
"<img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Flag_of_the_People%27s_Republic_of_China.svg/22px-Flag_of_the_People%27s_Republic_of_China.svg.png\">",
true,
new Date(2010,9,9)
],
[
"2",
"India",
1188650000,
0.173,
"<img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Flag_of_India.svg/22px-Flag_of_India.svg.png\">",
true,
new Date(2010,9,9)
],
[
"3",
"United States",
310438000,
0.0452,
"<img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Flag_of_the_United_States.svg/22px-Flag_of_the_United_States.svg.png\">",
true,
new Date(2010,9,9)
],
[
"4",
"Indonesia",
237556363,
0.0346,
"<img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Flag_of_Indonesia.svg/22px-Flag_of_Indonesia.svg.png\">",
true,
new Date(2010,9,9)
],
[
"5",
"Brazil",
193626000,
0.0282,
"<img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Flag_of_Brazil.svg/22px-Flag_of_Brazil.svg.png\">",
true,
new Date(2010,9,9)
] 
];
data.addColumn('string','Rank');
data.addColumn('string','Country');
data.addColumn('number','Population');
data.addColumn('number','% of World Population');
data.addColumn('string','Flag');
data.addColumn('boolean','Mode');
data.addColumn('date','Date');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartTableID3b54178095() {
var data = gvisDataTableID3b54178095();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.Table(
    document.getElementById('TableID3b54178095')
    );
    chart.draw(data,options);
    

    google.visualization.events.addListener(chart, 'select',gvisListenerTableID3b54178095);
    function gvisListenerTableID3b54178095() {
    
       var sel = chart.getSelection();
       var row = sel[0].row;
       var text = data.getValue(row,1);
       alert(text);

    }
    
}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "table";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartTableID3b54178095);
})();
function displayChartTableID3b54178095() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartTableID3b54178095"></script><!-- divChart --><div id="TableID3b54178095" style="width: 500; height: automatic;">

</div>
<p>For more details see the <code>demo(EventListener)</code> and <a href="https://developers.google.com/chart/interactive/docs/reference" class="external-link">Google Charts Reference</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="frequent-ask-questions-faq">Frequent ask questions – FAQ<a class="anchor" aria-label="anchor" href="#frequent-ask-questions-faq"></a>
</h2>
<div class="section level3">
<h3 id="is-there-an-alternative-for-the-flash-based-motion-chart">Is there an alternative for the Flash based motion chart<a class="anchor" aria-label="anchor" href="#is-there-an-alternative-for-the-flash-based-motion-chart"></a>
</h3>
<p>Other R packages provide alternatives to the Flash based Google motion chart, such as <a href="https://plotly.com/r/animations/#mulitple-trace-animations" class="external-link">plotly</a>, <a href="https://gganimate.com" class="external-link">gganimate</a></p>
</div>
<div class="section level3">
<h3 id="can-i-use-googlevis-output-in-pdf-files">Can I use googleVis output in PDF files?<a class="anchor" aria-label="anchor" href="#can-i-use-googlevis-output-in-pdf-files"></a>
</h3>
<p>No, not directly. The Google Charts API is designed for dynamic web output on your screen and not on paper.</p>
<p>For further details see Google’s online documentation on <a href="https://developers.google.com/chart/interactive/docs/printing" class="external-link">printing PNG charts</a>.</p>
</div>
<div class="section level3">
<h3 id="can-i-change-the-colour-of-the-bubbles-in-motion-charts">Can I change the colour of the bubbles in motion charts?<a class="anchor" aria-label="anchor" href="#can-i-change-the-colour-of-the-bubbles-in-motion-charts"></a>
</h3>
<p>No, unfortunately not. The colours are set by the Google Charts API and cannot be changed by the user.</p>
</div>
<div class="section level3">
<h3 id="why-cant-i-see-motion-charts-when-i-open-them-from-a-local-directory">Why can’t I see motion charts when I open them from a local directory?<a class="anchor" aria-label="anchor" href="#why-cant-i-see-motion-charts-when-i-open-them-from-a-local-directory"></a>
</h3>
<p>Note that Flash charts may not work when loaded as a local file due to security settings, and therefore require to be displayed via a web server. However, you can overcome this issue by changing your Flash security settings. Tony Breyal posted the following solution on stackoverflow.com:</p>
<ol style="list-style-type: decimal">
<li>Go to <a href="https://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html" class="external-link uri">https://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html</a>
</li>
<li>Click on the dropbox which says ’Edit location’ and choose ’add location’</li>
<li>Click ’browse for folder’</li>
<li>Choose the folder in which you saved your HTML file</li>
<li>Click OK</li>
</ol>
</div>
<div class="section level3">
<h3 id="why-cant-i-see-motion-charts-on-my-ipadiphone">Why can’t I see motion charts on my iPad/iPhone?<a class="anchor" aria-label="anchor" href="#why-cant-i-see-motion-charts-on-my-ipadiphone"></a>
</h3>
<p>Motion charts (also geo maps and annotated time lines) are rendered in your browser using Flash, unlike most other charts which use HTML5. Unfortunately, Flash is not directly supported on iOS devices such as iPads and iPhones.</p>
</div>
<div class="section level3">
<h3 id="how-can-i-set-axes-limits-with-googlevis">How can I set axes limits with googleVis?<a class="anchor" aria-label="anchor" href="#how-can-i-set-axes-limits-with-googlevis"></a>
</h3>
<p>Unfortunately, there are no arguments such as <code>ylim</code> and <code>xlim</code>. Instead, the Google Charts axes options are set via <code>hAxes</code> and <code>vAxes</code>, with ‘h’ and ‘v’ indicating the horizontal and vertical axis. More precisely, we have to set <code>viewWindowMode:'explicit'</code> and set the <code>viewWindow</code> to the desired <code>min</code> and <code>max</code> values. Additionally, we have to wrap all of this in <code>[{}]</code> brackets as those settings are sub options of <code>h/vAxes</code>. There are also options <code>minValue</code> and <code>maxValue</code>, but they only allow you to extend the axes ranges.</p>
<p>Here is a minimal example, setting the y-axis limits from 0 to 10:</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>, 
                  y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span>, <span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">8</span>, <span class="fl">15</span>, <span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="va">area1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gvisAreaChart.html">gvisAreaChart</a></span><span class="op">(</span>xvar<span class="op">=</span><span class="st">"x"</span>, yvar<span class="op">=</span><span class="st">"y"</span>, data<span class="op">=</span><span class="va">dat</span>,
        options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>vAxes<span class="op">=</span><span class="st">"[{viewWindowMode:'explicit',
            viewWindow:{min:0, max:10}}]"</span>,
                        width<span class="op">=</span><span class="fl">500</span>, height<span class="op">=</span><span class="fl">400</span>, 
                        title<span class="op">=</span><span class="st">"y-limits set from 0 to 10"</span><span class="op">)</span>,
            chartid<span class="op">=</span><span class="st">"area1ylim"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">area1</span><span class="op">)</span></code></pre></div>
<!-- AreaChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:36 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataarea1ylim () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"A",
0
],
[
"B",
4
],
[
"C",
-2
],
[
"D",
2
],
[
"E",
4
],
[
"F",
3
],
[
"G",
8
],
[
"H",
15
],
[
"I",
10
],
[
"J",
4
] 
];
data.addColumn('string','x');
data.addColumn('number','y');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartarea1ylim() {
var data = gvisDataarea1ylim();
var options = {};
options["allowHtml"] = true;
options["vAxes"] = [{viewWindowMode:'explicit',
            viewWindow:{min:0, max:10}}];
options["width"] = 500;
options["height"] = 400;
options["title"] = "y-limits set from 0 to 10";

    var chart = new google.visualization.AreaChart(
    document.getElementById('area1ylim')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartarea1ylim);
})();
function displayChartarea1ylim() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartarea1ylim"></script><!-- divChart --><div id="area1ylim" style="width: 500; height: 400;">

</div>
</div>
<div class="section level3">
<h3 id="how-do-i-deal-with-apostrophes-in-column-names">How do I deal with apostrophes in column names?<a class="anchor" aria-label="anchor" href="#how-do-i-deal-with-apostrophes-in-column-names"></a>
</h3>
<p>The googleVis package converts data frames into JSON objects. The column names of the resulting JSON tables are encapsulated with single speech marks.</p>
<p>Hence apostrophes in column names of your input data frame have to be encapsulated by a double backslash.</p>
<p>Here is a little example:</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Year"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2009'</span>, <span class="st">'2010'</span><span class="op">)</span>, 
                 <span class="st">"Alice\\'s salary"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">86.1</span>, <span class="fl">93.3</span><span class="op">)</span>, 
                 <span class="st">"Bob\\'s salary"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">95.3</span>, <span class="fl">100.5</span><span class="op">)</span>,
                 check.names<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> 
<span class="va">gchart</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gvisColumnChart.html">gvisColumnChart</a></span><span class="op">(</span><span class="va">df</span>, options<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>vAxis<span class="op">=</span><span class="st">'{baseline:0}'</span>, 
                            title<span class="op">=</span><span class="st">"Salary"</span>,
                            legend<span class="op">=</span><span class="st">"{position:'bottom'}"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">gchart</span><span class="op">)</span></code></pre></div>
<!-- ColumnChart generated in R 4.2.0 by googleVis 0.6.13 package -->
<!-- Sat Apr 23 13:39:36 2022 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataColumnChartID3b547ee28e74 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2009",
86.1,
95.3
],
[
"2010",
93.3,
100.5
] 
];
data.addColumn('string','Year');
data.addColumn('number','Alice\'s salary');
data.addColumn('number','Bob\'s salary');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartColumnChartID3b547ee28e74() {
var data = gvisDataColumnChartID3b547ee28e74();
var options = {};
options["allowHtml"] = true;
options["vAxis"] = {baseline:0};
options["title"] = "Salary";
options["legend"] = {position:'bottom'};

    var chart = new google.visualization.ColumnChart(
    document.getElementById('ColumnChartID3b547ee28e74')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartColumnChartID3b547ee28e74);
})();
function displayChartColumnChartID3b547ee28e74() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartColumnChartID3b547ee28e74"></script><!-- divChart --><div id="ColumnChartID3b547ee28e74" style="width: 500; height: automatic;">

</div>
</div>
<div class="section level3">
<h3 id="how-can-i-change-the-look-and-feel-of-the-charts">How can I change the look and feel of the charts?<a class="anchor" aria-label="anchor" href="#how-can-i-change-the-look-and-feel-of-the-charts"></a>
</h3>
<p>The charts have a lot of options which allow you to change the look and feel of the output, see the help files for more details. However, googleVis provides only an interface to the Google Charts API. If you have specific questions to the charts then please ask the <a href="https://groups.google.com/d/forum/google-visualization-api" class="external-link">Google Visualisation API newsgroup</a>.</p>
<p>For frequent ask questions regarding the API check: <a href="https://developers.google.com/chart/interactive/faq" class="external-link uri">https://developers.google.com/chart/interactive/faq</a>.</p>
</div>
<div class="section level3">
<h3 id="is-it-possible-to-use-googlevis-in-corporate-work">Is it possible to use googleVis in corporate work?<a class="anchor" aria-label="anchor" href="#is-it-possible-to-use-googlevis-in-corporate-work"></a>
</h3>
<p>Review the <a href="https://developers.google.com/terms/" class="external-link">Google Terms of Service</a> and get in touch with your colleagues in IT / Legal. If in doubt contact Google directly.</p>
</div>
</div>
<div class="section level2">
<h2 id="bugs-and-issues">Bugs and issues<a class="anchor" aria-label="anchor" href="#bugs-and-issues"></a>
</h2>
<p>Should you find any issues or bugs with googleVis, then please drop us a line or add them to our issues list: (<a href="https://github.com/mages/googleVis/issues" class="external-link uri">https://github.com/mages/googleVis/issues</a>)</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>Please cite googleVis if you use it in your work or publications:</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"googleVis"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">## To cite the googleVis package in publications use:</span>
<span class="co">## </span>
<span class="co">##   Markus Gesmann and Diego de Castillo. Using the Google Visualisation</span>
<span class="co">##   API with R. The R Journal, 3(2):40-44, December 2011.</span>
<span class="co">## </span>
<span class="co">## A BibTeX entry for LaTeX users is</span>
<span class="co">## </span>
<span class="co">##   @Article{,</span>
<span class="co">##     title = {googleVis: Interface between R and the Google Visualisation API},</span>
<span class="co">##     author = {Markus Gesmann and Diego {de Castillo}},</span>
<span class="co">##     journal = {The R Journal},</span>
<span class="co">##     year = {2011},</span>
<span class="co">##     volume = {3},</span>
<span class="co">##     number = {2},</span>
<span class="co">##     pages = {40--44},</span>
<span class="co">##     month = {December},</span>
<span class="co">##     url = {https://journal.r-project.org/archive/2011-2/RJournal_2011-2_Gesmann+de~Castillo.pdf},</span>
<span class="co">##   }</span></code></pre>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>

<div id="refs" class="references">
<div id="ref-Rsp">
<p>Bengtsson, Henrik. 2012. “R.rsp: R Server Pages.” <a href="https://CRAN.R-project.org/package=R.rsp" class="external-link">https://CRAN.R-project.org/package=R.rsp</a>.</p>
</div>
<div id="ref-Gapminder">
<p>Foundation, Gapminder. 2010. “Gapminder.” <a href="https://www.gapminder.org" class="external-link">https://www.gapminder.org</a>.</p>
</div>
<div id="ref-RJournal:2011-2:GesmannCastillo">
<p>Gesmann, Markus, and Diego de Castillo. 2011. “Using the Google Visualisation API with R.” <em>The R Journal</em> 3 (2): 40–44. <a href="https://journal.r-project.org/archive/2011-2/RJournal_2011-2_Gesmann+de~Castillo.pdf" class="external-link">https://journal.r-project.org/archive/2011-2/RJournal_2011-2_Gesmann+de~Castillo.pdf</a>.</p>
</div>
<div id="ref-googleVisTutorial">
<p>———. 2013. <em>GoogleVis Tutorial</em>. useR! 2013, University of Castilla-La Mancha, Albacete, Spain.</p>
</div>
<div id="ref-GoogleVisApi">
<p>Inc., Google. 2012a. “Google Chart Tools.” <a href="https://developers.google.com/chart/interactive/docs/gallery" class="external-link">https://developers.google.com/chart/interactive/docs/gallery</a>.</p>
</div>
<div id="ref-GoogleMotionChart">
<p>———. 2012b. “Google Motion Chart API.” <a href="https://developers.google.com/chart/interactive/docs/gallery/motionchart.html" class="external-link">https://developers.google.com/chart/interactive/docs/gallery/motionchart.html</a>.</p>
</div>
<div id="ref-GooglePublicData">
<p>———. 2012c. “Google Public Data Explorer.” <a href="https://www.google.com/publicdata/directory" class="external-link">https://www.google.com/publicdata/directory</a>.</p>
</div>
<div id="ref-DataTable">
<p>———. 2012d. “Google Visualisation Reference.” <a href="https://developers.google.com/chart/interactive/docs/reference" class="external-link">https://developers.google.com/chart/interactive/docs/reference</a>.</p>
</div>
<div id="ref-GoogleTerms">
<p>Inc, Google. 2012. “Google API Terms of Service.” <a href="https://developers.google.com/terms/" class="external-link">https://developers.google.com/terms/</a>.</p>
</div>
<div id="ref-json">
<p>JSON.org. 2006. “JSON.” <a href="https://www.json.org/" class="external-link">https://www.json.org/</a>.</p>
</div>
<div id="ref-jsonlite">
<p>Ooms, Jeroen. 2014. “The Jsonlite Package: A Practical and Consistent Mapping Between Json Data and R Objects.” <em>arXiv:1403.2805</em>. <a href="https://arxiv.org/abs/1403.2805" class="external-link">https://arxiv.org/abs/1403.2805</a>.</p>
</div>
<div id="ref-HansRoslingTedTalk">
<p>Rosling, Hans. 2006. “TED Talk: Hans Rosling Shows the Best Stats You’ve Ever Seen.” TED Talk; <a href="https://www.ted.com/talks/hans_rosling_the_best_stats_you_ve_ever_seen" class="external-link">https://www.ted.com/talks/hans_rosling_the_best_stats_you_ve_ever_seen</a>.</p>
</div>
<div id="ref-Saaibi2010">
<p>Saaibi, Sebastián Pérez. 2010. <em>R/RMETRICS Generator Tool for Google Motion Charts</em>. https://www.rmetrics.org/.</p>
</div>
<div id="ref-slidify">
<p>Vaidyanathan, Ramnath. 2012. <em>Slidify: Generate Reproducible Html5 Slides from R Markdown</em>. <a href="https://github.com/ramnathv/slidify/" class="external-link">https://github.com/ramnathv/slidify/</a>.</p>
</div>
<div id="ref-knitr">
<p>Xie, Yihui. 2013. <em>Knitr: A General-Purpose Package for Dynamic Report Generation in R</em>. <a href="https://CRAN.R-project.org/package=knitr" class="external-link">https://CRAN.R-project.org/package=knitr</a>.</p>
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Markus Gesmann, Diego de Castillo.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
